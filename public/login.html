<!DOCTYPE html>
<html>
<head>
    <!-- Main -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Virtual PTU - Login</title>

    <!-- External CSS & JS Imports -->
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- Google -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js"
            integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4"
            crossorigin="anonymous"></script>

    <!-- Local CSS & JS Imports -->
    <link rel="stylesheet" href="Protected/css/main.css">
    <script src="Protected/js/modules/Alerts.js"></script>
</head>
<body>
<!-- NavBar -->
<div id="NavBar_Section"></div>
<script src="Protected/navbar.js"></script>
<!-- Alerts -->
<div id="Alerts_Section"></div>
<br>

<!-- Main Content -->
<div class="container">
    <div class="row">
        <div class="col">
            <!-- Header -->
            <div class="jumbotron">
                <h1 class="display-4">Sign in</h1>
                <p class="lead">Sign in to access special tools & services</p>
                <hr class="my-4">
                <p>With an account you can access online VPTU campaign backups and archives, List your campaign to look
                    for players & The VPTU Support Forums</p>
                <br>
                <p class="lead">
                    <a class="btn btn-primary btn-lg" href="#" role="button" id="Signin_With_Google">Sign in with
                        Google</a>
                    <a class="btn btn-primary btn-lg" href="#" role="button">Register</a>
                </p>
            </div>

            <!-- Body -->
        </div>
    </div>
</div>

<script src="https://www.gstatic.com/firebasejs/4.9.0/firebase.js"></script>
<script src="../../Protected/js/modules/Auth.js"></script>
<script src="../../Protected/js/modules/global_alerts.js"></script>

<script>
    var SignIn_Button_WithGoogle = document.getElementById('Signin_With_Google');
    SignIn_Button_WithGoogle.onclick = function (event) {
        var provider = new firebase.auth.GoogleAuthProvider();
        //alert("Login with Google");

        firebase.auth().signInWithPopup(provider).then(function (result) {
            // This gives you a Google Access Token. You can use it to access the Google API.
            var token = result.credential.accessToken;
            // The signed-in user info.
            var user = result.user;
            // ...


            window.location.href = "index.html";
        }).catch(function (error) {
            // Handle Errors here.
            var errorCode = error.code;
            var errorMessage = error.message;
            // The email of the user's account used.
            var email = error.email;
            // The firebase.auth.AuthCredential type that was used.
            var credential = error.credential;
            // ...
        });
    }
</script>
</body>
</html>